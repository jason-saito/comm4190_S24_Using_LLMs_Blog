<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jason Saito">
<meta name="dcterms.date" content="2024-03-14">
<meta name="description" content="Can AI really take our jobs?">

<title>Jason Saito’s Website - The LLM Software Engineering Interview</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Jason Saito’s Website</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-interests" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Interests</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-interests">    
        <li>
    <a class="dropdown-item" href="../../blog.html">
 <span class="dropdown-text">LLMs Blog</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../music.qmd">
 <span class="dropdown-text">Project 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../basketball.qmd">
 <span class="dropdown-text">Project 3</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jason-saito"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/jason-saito/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:jsaito@sas.upenn.edu"> <i class="bi bi-gmail" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">The LLM Software Engineering Interview</h1>
                  <div>
        <div class="description">
          Can AI really take our jobs?
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Claude 3 Opus</div>
                <div class="quarto-category">Huru AI</div>
                <div class="quarto-category">Communication</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Jason Saito </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 14, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>After the unveiling of Devin AI, I was curious to see if AI really had the capabilities to take our jobs. Specifically, can AI replace tech jobs such as Data Analysts, Software Engineers, etc. To test this I used the Claude Opus 3 model to answer mock interview questions generated by <a href="https://huru.ai/">Huru AI.</a></p>
<p>Since Huru AI requires you to record a video with your response, I had some initial concerns about the LLM’s ability to understand that it was being interviewed with a two minute window to speak. Thus, I prompted it with the question folllowed by “make the response two minutes long when spoken outloud,” I am curious to see if it can really estimate what two minutes of speech is.</p>
<p><img src="interview.webp" width="50%" align="center"></p>
<section id="question-1-can-you-walk-me-through-a-recent-project-where-you-designed-and-implemented-a-computer-program-from-scratch" class="level2">
<h2 class="anchored" data-anchor-id="question-1-can-you-walk-me-through-a-recent-project-where-you-designed-and-implemented-a-computer-program-from-scratch">Question 1: Can you walk me through a recent project where you designed and implemented a computer program from scratch?</h2>
</section>
<section id="response" class="level2">
<h2 class="anchored" data-anchor-id="response">Response:</h2>
<p><em>nods</em> Absolutely. One recent project that comes to mind is a custom inventory management system I designed and implemented for a mid-sized e-commerce company.</p>
<p>The company was struggling with their existing off-the-shelf solution, which couldn’t handle their complex inventory tracking needs across multiple warehouses. They needed a tailored system that could provide real-time visibility, automate order fulfillment, and integrate seamlessly with their e-commerce platform.</p>
<p>I started by conducting thorough requirements gathering sessions with stakeholders from various departments to understand their pain points and desired features. Based on these insights, I designed a scalable, modular architecture using a microservices approach with RESTful APIs for inter-service communication.</p>
<p>For the backend, I chose Node.js with Express framework to build the API layer, leveraging its non-blocking I/O model for high concurrency. The inventory data was stored in a MongoDB database, chosen for its flexibility and ability to handle unstructured data.</p>
<p>I implemented the core inventory tracking functionality, including real-time stock updates, low-stock alerts, and automated reordering based on predefined thresholds. The system also supported complex search and filtering capabilities to quickly locate specific items across multiple warehouses.</p>
<p>To ensure data consistency and reliability, I incorporated transaction management, error handling, and data validation at critical points. I also designed an event-driven architecture using Apache Kafka to decouple the inventory system from the e-commerce platform, enabling seamless integration and real-time updates.</p>
<p>On the front-end, I built an intuitive, responsive user interface using React and Material-UI components. The UI allowed warehouse managers to easily view, update, and manage inventory levels, as well as generate reports and insights.</p>
<p>Throughout the development process, I followed agile methodologies, working in sprints and collaborating closely with the client’s team. <strong>(WAS ONLY ABLE TO GET TO HERE UNTIL IT WAS CUT OFF)</strong></p>
<p>I conducted regular code reviews, wrote comprehensive unit and integration tests, and ensured the codebase was maintainable and well-documented.</p>
<p>After a series of iterative development cycles and thorough testing, the inventory management system was successfully deployed to production. It significantly streamlined the company’s inventory tracking processes, reduced manual errors, and improved order fulfillment efficiency. The modular architecture also allowed for easy scalability and integration with future systems.</p>
<p>Overall, this project showcased my ability to design and implement a robust, custom software solution from scratch, tailored to the client’s specific business needs. It highlighted my skills in requirements gathering, system architecture, full-stack development, and project management.</p>
</section>
<section id="hurus-feedback" class="level2">
<h2 class="anchored" data-anchor-id="hurus-feedback">Huru’s Feedback:</h2>
<section id="accuracy-of-your-answer" class="level4">
<h4 class="anchored" data-anchor-id="accuracy-of-your-answer">Accuracy of your answer</h4>
<p>Your response is excellent and articulates your skills, expertise, and approach to project execution in detail. You’ve done a great job providing a comprehensive walk-through of a recent project, explaining why specific technologies were chosen, outlining the problem you were solving, your methodology, and the resulting outcomes. One minor improvement could be mentioning any challenges you faced during the implementation phase and how you overcame them, as this could be an essential aspect interviewers may want to hear. Excellent job overall!</p>
</section>
<section id="speech-and-grammar-analysis" class="level4">
<h4 class="anchored" data-anchor-id="speech-and-grammar-analysis">Speech and Grammar Analysis</h4>
<p>You provided a very detailed and thorough answer, which perfectly sets out your skills and expertise. However, there are some minor grammatical issues. Instead of “conducting thorough requirements”, use “conducting thorough requirements-gathering sessions”. Instead of “closing with teams and clients”, use “close collaboration with teams and clients”. Lastly, instead of “wrote comprehensive unit integration tests”, it should be “wrote comprehensive unit and integration tests”. Your use of technical jargon displays your knowledge, but make sure the interviewer can follow your traın of thought</p>
</section>
<section id="speech-quality-and-confidence" class="level4">
<h4 class="anchored" data-anchor-id="speech-quality-and-confidence">Speech quality and confidence</h4>
<p>Your answer comes across as confident and deep in detail. You show a clear understanding of your project and displayed very strong technical competency. You also show commendable control over your narrative, which is a reflection of a levelled confidence. Well done!</p>
</section>
</section>
<section id="my-thoughts" class="level2">
<h2 class="anchored" data-anchor-id="my-thoughts">My Thoughts:</h2>
<p>I thought it was really interesting that the LLM “nods” at the start of the response, showing that maybe it misunderstood my prompt. It also seems like the LLM overestimated the amount of words I could speak in 2 minutes. I like Huru’s analysis of the answer to question 1, but it seems like it misunderstood what I was saying at times.</p>
</section>
<section id="question-2-how-do-you-approach-problem-solving-when-faced-with-complex-programming-issues" class="level2">
<h2 class="anchored" data-anchor-id="question-2-how-do-you-approach-problem-solving-when-faced-with-complex-programming-issues">Question 2: How do you approach problem-solving when faced with complex programming issues?</h2>
</section>
<section id="response-1" class="level2">
<h2 class="anchored" data-anchor-id="response-1">Response:</h2>
<p>When faced with complex programming issues, my approach to problem-solving involves several key steps. First, I take the time to thoroughly understand the problem at hand, breaking it down into smaller, more manageable components. This allows me to identify the root cause of the issue and develop a clear picture of what needs to be addressed.</p>
<p>Next, I draw upon my experience and knowledge to consider potential solutions. I think about similar challenges I’ve encountered in the past and how I successfully resolved them. I also consider best practices and design patterns that could be applied to the current situation.</p>
<p>If the problem is particularly complex or novel, I’m not afraid to conduct research and consult with colleagues or online resources to gather additional insights and perspectives. Collaborating with others often leads to innovative solutions that I may not have considered on my own.</p>
<p>Once I have a few potential solutions in mind, I evaluate each one carefully, considering factors such as feasibility, performance, scalability, and maintainability. I weigh the pros and cons of each approach and select the one that best addresses the problem while aligning with the project’s goals and constraints.</p>
<p>Finally, I implement the chosen solution incrementally, testing thoroughly at each stage to ensure that it effectively resolves the issue without introducing new problems. I document my work clearly so that others can understand and maintain the code in the future.</p>
<p>Throughout the problem-solving process, I maintain a positive attitude and remain open to feedback and suggestions from others. I believe that continuous learning and adaptation are essential for success in the ever-evolving field of software development.</p>
</section>
<section id="hurus-feedback-1" class="level2">
<h2 class="anchored" data-anchor-id="hurus-feedback-1">Huru’s Feedback:</h2>
<section id="accuracy" class="level4">
<h4 class="anchored" data-anchor-id="accuracy">Accuracy:</h4>
<p>Your answer provides a comprehensive understanding of your approach to problem-solving, especially when it comes to dealing with complex programming issues. It is commendable that you have demonstrated a systematic way of resolving these issues, from understanding the problem, considering potential solutions, evaluating each solution based on certain factors, to implementing the chosen solution. You’ve clearly shown your technical skills, critical thinking, and collaboration. Your emphasis on continuous learning, adaptation, and maintaining a positive attitude throughout the process is also beneficial in the workplace. Excellent job.</p>
</section>
<section id="quality-confidence" class="level4">
<h4 class="anchored" data-anchor-id="quality-confidence">Quality + Confidence:</h4>
<p>Your response was very thorough and displayed confidence. It showed you understand problem-solving processes well. However, it seemed slightly rehearsed and textbook-like. While clear and methodic, your response could have displayed more self-assurance, especially when discussing your ability to collaborate and adapt.</p>
</section>
<section id="speech-and-grammar-analysis-1" class="level4">
<h4 class="anchored" data-anchor-id="speech-and-grammar-analysis-1">Speech and Grammar Analysis:</h4>
<p>Your response was comprehensive and well-structured, showcasing your problem-solving capabilities effectively. However, there are some areas where clarity can be improved. Instead of saying “when it needs to be addressed,” say “what needs to be addressed,” to establish clear specificity. Moreover, avoid redundant sentences like “I document my work clearly so that I can understand and maintain the code in the future.” It is assumed you will understand your own coding work without documentation, so say, “I document my work clearly for future reference and ease of maintenance.” Lastly, instead of saying “I believe that this continuous learning and adaptation are essential for our success,” say “I believe that continuous learning and adaptation are essential for success.” This simplifies your statement and removes any confusion or ambiguity.</p>
</section>
</section>
<section id="thoughts" class="level2">
<h2 class="anchored" data-anchor-id="thoughts">Thoughts</h2>
<p>This response was a little better in terms of time, I was able to say it all in 1 minute and 30 seconds. I also thought that the analysis was good but still has similar issues of misunderstanding what I said.</p>
</section>
</section>
<section id="question-3-what-experience-do-you-have-in-developing-mobile-or-desktop-applications" class="level1">
<h1>Question 3: What experience do you have in developing mobile or desktop applications?</h1>
</section>
<section id="response-2" class="level1">
<h1>Response:</h1>
<p>In my career as a software developer, I have gained extensive experience in developing both mobile and desktop applications across various platforms and technologies.</p>
<p>For mobile app development, I have worked on numerous projects for iOS and Android devices. I am proficient in native app development using Swift and Objective-C for iOS, and Java and Kotlin for Android. I have also leveraged cross-platform frameworks such as React Native and Flutter to build apps that run seamlessly on both platforms, saving development time and resources.</p>
<p>Some notable mobile app projects I have contributed to include a feature-rich e-commerce app for a leading retailer, a social media app with a focus on user engagement and privacy, and a productivity app that helps users manage their tasks and goals across devices.</p>
<p>On the desktop front, I have developed applications for Windows, macOS, and Linux operating systems. I am well-versed in using C# and the .NET framework for building Windows desktop apps, and I have experience with Electron and Node.js for creating cross-platform desktop applications.</p>
<p>One of my most successful desktop projects was a data visualization tool for a financial institution. The application allowed users to import, analyze, and visualize large datasets, empowering them to make data-driven decisions. The app was built using C# and WPF, with a focus on performance and user experience.</p>
<p>In addition to these projects, I have also worked on developing desktop applications for productivity, gaming, and multimedia. I am comfortable working with a variety of programming languages, frameworks, and tools to deliver high-quality, performant, and user-friendly applications.</p>
<p>Throughout my experience in mobile and desktop app development, I have honed my skills in problem-solving, architecture design, and collaboration with cross-functional teams. I am confident in my ability to tackle complex challenges and deliver successful applications that meet and exceed user expectations.</p>
</section>
<section id="hurus-feedback-2" class="level1">
<h1>Huru’s Feedback</h1>
<section id="accuracy-1" class="level4">
<h4 class="anchored" data-anchor-id="accuracy-1">Accuracy</h4>
<p>Your answer was very thorough, comprehensive and compelling. You clearly explained your experience developing both mobile and desktop applications and used detailed examples to further prove your skills and capabilities. Your fluency with different programming languages and platforms is impressive, as is your experience working with cross-functional teams. You elegantly highlighted notable projects you’ve contributed to, successfully demonstrating your problem-solving abilities, architectural design skills and your focus on user experience and performance. Additionally, your confidence and enthusiasm are palpable, which adds to your overall strong response. You’ve perfectly matched the question, well done!</p>
</section>
<section id="speech-and-grammar-analysis-2" class="level4">
<h4 class="anchored" data-anchor-id="speech-and-grammar-analysis-2">Speech and Grammar Analysis</h4>
<p>You did a great job explaining your experience in mobile and desktop application development. However, your answer is quite lengthy. To maintain the interview flow, I recommend breaking down your extensive experience into smaller digestible information, possibly using bullet points or focusing on top 3 achievements. But remember, grammatically your text is sound, keep up with that.</p>
</section>
<section id="quality-confidence-1" class="level4">
<h4 class="anchored" data-anchor-id="quality-confidence-1">Quality + Confidence:</h4>
<p>Your response demonstrates a high degree of confidence. You have successfully covered all areas of the question, laying out extensive information about your experience and strengths. The mention of specific projects and skills enhances the credibility and authority in your response. This level of detail shows that you are well-prepared and confident in your professional history and skills. Excellent reply.</p>
</section>
<section id="thoughts-1" class="level4">
<h4 class="anchored" data-anchor-id="thoughts-1">Thoughts</h4>
<p>Overall, I thought that the answer was solid but I agree that the answer was quite long. It took me 1 minute and 56 seconds to speak it.</p>
</section>
</section>
<section id="concluding-thoughts" class="level1">
<h1>Concluding Thoughts</h1>
<p>Overall I liked both the Opus model’s responses as well as Huru AI’s evaluations. But overall, the responses to the interview questions were really long and didn’t sound natural. I want to see in the future if using different models could make these answers more consise. When it comes down to it, I feel that Software Engineers have a bit of time before AI can take over their jobs. While the Opus model was able to come up with these responses, at the end of the day, we will always need a human to collaborate, verify information with, and ensure the job gets done the right way.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/jason-saito\.github\.io\/comm4190_S24_Using_LLMs_Blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>